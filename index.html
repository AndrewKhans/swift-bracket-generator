<html>
  <head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" rel="stylesheet">
  </head>
  <style>
    body {
      background-color: #cab19e;
    }

    .outerdiv{
      vertical-align:top;
      text-align: center;
      width: 1500px;
      margin: auto;
    }

    h1 {
      font-family: 'Anton', sans-serif;
      font-size: 80px;
    }


    .rectangle {
      font-weight: bold;
      font-family: 'Roboto', sans-serif;
      background-color: #bed1c5;
      border: 1px;
      color: black;
      height: 110px;
      width: 300px;
      text-align: center;
      text-decoration: none;
      display: block;
      font-size: 30px;
      padding: 0px;
      margin-right: 40px;
      cursor: pointer;
    }



    .verticalLine {
      display: inline-block;
      border: solid #000;
      border-width: 0px;
      border-right-width: 3px;
      width: 150px;
      height: 20px;
    }

    .horizontalLine {
      display: inline-block;
      border: solid #000;
      border-width: 0px;
      border-top-width: 3px;
      width: 200px;
      height: 8px;
    }

    .spacer {
      /*background-color: black;*/
      height: 110px;
      width: 300px;
      display: block;
      margin-bottom: 20px;
      margin-right: 20px;
    }

    .layer {
      vertical-align:top;
      display: inline-block;
    }
  </style>

  <body>

    <div class="outerdiv">
      <h1>TAYLOR SWIFT BRACKET GENERATOR</h1>
      <!-- Layer 1 -->
      <div class="layer">
        <button class="rectangle" id="l0r0" onclick="clicked(this)"></button>
        <div class="verticalLine"></div><div class="horizontalLine"></div>
        <button class="rectangle" id="l0r1" onclick="clicked(this)"></button>
        <div class="verticalLine" style="border-right-width:0px"></div>
        <button class="rectangle" id="l0r2" onclick="clicked(this)"></button>
        <div class="verticalLine"></div><div class="horizontalLine"></div>
        <button class="rectangle" id="l0r3" onclick="clicked(this)"></button>
        <div class="verticalLine" style="border-right-width:0px"></div>
        <button class="rectangle" id="l0r4" onclick="clicked(this)"></button>
        <div class="verticalLine"></div><div class="horizontalLine"></div>
        <button class="rectangle" id="l0r5" onclick="clicked(this)"></button>
        <div class="verticalLine" style="border-right-width:0px"></div>
        <button class="rectangle" id="l0r6" onclick="clicked(this)"></button>
        <div class="verticalLine"></div><div class="horizontalLine"></div>
        <button class="rectangle" id="l0r7" onclick="clicked(this)"></button>
      </div><div class="layer">
        <div class="spacer" style="height:45px"></div>
        <button class="rectangle" id="l1r0" onclick="clicked(this)"></button>
        <div class="verticalLine" style="height:150px"></div><div class="horizontalLine" style="height:75px"></div>
        <button class="rectangle" id="l1r1" onclick="clicked(this)"></button>
        <div class="spacer" style="height:130px"></div>
        <button class="rectangle" id="l1r2" onclick="clicked(this)"></button>
        <div class="verticalLine" style="height:150px"></div><div class="horizontalLine" style="height:75px"></div>
        <button class="rectangle" id="l1r3" onclick="clicked(this)"></button>  
      </div><div class="layer">
        <div class="spacer" style="height:45px"></div>
        <div class="spacer"></div>
        <button class="rectangle" id="l2r0" onclick="clicked(this)"></button>
        <div class="verticalLine" style="height:410px"></div><div class="horizontalLine" style="height:205px"></div>
        <button class="rectangle" id="l2r1" onclick="clicked(this)"></button> 
      </div><div class="layer">
        <div class="spacer" style="height:45px"></div>
        <div class="spacer"></div>
        <div class="spacer"></div>
        <div class="spacer"></div>
        <button class="rectangle" id="l3r0" onclick="clicked(this)"></button>
      </div>
    </div>

    <script>

      // Todo:
      // When a song loses, turn its box grey
      // Setup
      songs = ["All Too Well", "Babe", "Better Man", "Birch", "Bye Bye Baby", "Don't You", "Forever Winter", "Gasoline", "I Bet You Think About Me", "Message in a Bottle", "Mr. Perfectly Fine", "Nothing New", "Renegade", "Run", "That's When", "The Very First Night", "We Were Happy", "You All Over Me", "The 1", "August", "Betty", "Cardigan", "Champagne Problems", "Closure", "Coney Island", "Cowboy Like Me", "Dorothea", "Epiphany", "Evermore", "Exile", "Gold Rush", "Happiness", "Hoax", "Illicit Affairs", "Invisible String", "It's Time to Go", "Ivy", "The Lakes", "The Last Great American Dynasty", "Long Story Short", "Mad Woman", "Marjorie", "Mirrorball", "My Tears Ricochet", "No Body, No Crime", "Only the Young", "Peace", "Right Where You Left Me", "Seven", "This Is Me Trying", "'Tis the Damn Season", "Tolerate It", "Willow", "Afterglow", "The Archer", "Beautiful Ghosts", "Christmas Tree Farm", "Cornelia Street", "Cruel Summer", "Daylight", "Death by a Thousand Cuts", "False God", "I Forgot That You Existed", "I Think He Knows", "It's Nice to Have a Friend", "London Boy", "Lover", "Macavity", "The Man", "Me!", "Miss Americana & the Heartbreak Prince", "Paper Rings", "Soon You'll Get Better", "You Need to Calm Down", "September (cover)", "Call It What You Want", "Dancing with Our Hands Tied", "Delicate", "Don't Blame Me", "Dress", "End Game", "Getaway Car", "Gorgeous", "I Did Something Bad", "King of My Heart", "Look What You Made Me Do", "New Year's Day", "...Ready for It?", "So It Goes...", "This Is Why We Can't Have Nice Things", "I Don't Wanna Live Forever", "Wildest Dreams", "All You Had to Do Was Stay", "Bad Blood", "Blank Space", "Clean", "How You Get the Girl", "I Know Places", "I Wish You Would", "New Romantics", "Out of the Woods", "Shake It Off", "Style", "This Love", "Welcome to New York", "Wonderland", "You Are in Love", "Highway Don't Care", "Sweeter than Fiction", "22", "All Too Well", "Begin Again", "Come Back... Be Here", "Everything Has Changed", "Girl at Home", "Holy Ground", "I Almost Do", "I Knew You Were Trouble", "The Last Time", "The Lucky One", "The Moment I Knew", "Red", "Ronan", "Sad Beautiful Tragic", "Starlight", "State of Grace", "Stay Stay Stay", "Treacherous", "We Are Never Ever Getting Back Together", "Both of Us", "Eyes Open", "Long Live", "Safe & Sound", "Today Was a Fairytale", "Back to December", "Better than Revenge", "Breathless", "Dear John", "Enchanted", "Haunted", "If This Was a Movie", "Innocent", "Last Kiss", "Long Live", "Mean", "Mine", "Never Grow Up", "Ours", "Sparks Fly", "Speak Now", "The Story of Us", "Superman", "Come in with the Rain", "Jump Then Fall", "The Other Side of the Door", "Superstar", "Untouchable", "American Girl (cover)", "Crazier", "Two Is Better Than One", "The Best Day", "Breathe", "Change", "Fearless", "Fifteen", "Forever & Always", "Hey Stephen", "Love Story", "Tell Me Why", "The Way I Loved You", "White Horse", "You Belong with Me", "You're Not Sorry", "Beautiful Eyes", "I Heart ?", "Christmas Must Be Something More", "Christmases When You Were Mine", "Invisible", "I'm Only Me When I'm with You", "Last Christmas (cover)", "A Perfectly Good Heart", "Santa Baby (cover)", "Silent Night (cover)", "White Christmas (cover)", "Cold as You", "Mary's Song (Oh My My My)", "Our Song", "The Outside", "Picture to Burn", "A Place in This World", "Should've Said No", "Stay Beautiful", "Teardrops on My Guitar", "Tied Together with a Smile", "Tim McGraw"];
      // songs = ["The Last Great American Dynasty", "Marjorie", "No Body, No Crime", "Peace", "Miss Americana & the Heartbreak Prince", "This Is Why We Can't Have Nice Things", "We Are Never Ever Getting Back Together", "Christmas Must Be Something More"];

      layer0Size = 8
      width = layer0Size/2

      // Store the layers
      layers = []
      for (let i = 0; i < width; i++) {
        layerSize = layer0Size / Math.pow(2, i)
        currentLayer = []
        for (let j = 0; j < layerSize; j++) {
          name = "l" + i + "r" + j
          currentLayer.push(document.getElementById(name))
        }
        layers.push(currentLayer)
      }

      // Add a song to each rectangle in the first layer
      chosen = []
      for (let i = 0; i < layer0Size; i++) {
        song = songs[Math.floor(Math.random()*songs.length)]
        while (chosen.includes(song)) {
          song = songs[Math.floor(Math.random()*songs.length)]
        }
        chosen.push(song)
        layers[0][i].innerHTML = song
      }

      function clicked(element) {
        split = element.id.substring(1).split("r")
        layer = parseInt(split[0])
        row = parseInt(split[1])

        if (row % 2 == 0) {
          match = layers[layer][row+1]
          next = layers[layer+1][row/2]
        } else {
          match = layers[layer][row-1]
          next = layers[layer+1][(row-1)/2]
        }

        // Make sure the next layer's rectangle and this rectangle and the match are not blank
        if (next.innerHTML == "" && element.innerHTML !== "" && match.innerHTML !== "") {
          next.innerHTML = element.innerHTML
          element.style.backgroundColor = "#5f6f35"
          match.style.backgroundColor = "#6f3935"
          console.log("layer, " + layer)
          console.log("width, " + width)
          if (layer == width-2) {
            next.style.backgroundColor = "#5f6f35"
          }
        }




      }
    </script>

  </body>
</html> 